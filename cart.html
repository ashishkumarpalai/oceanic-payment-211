<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="cart.css">
    <!-- <script src="https://kit.fontawesome.com/e1c7dbc554.js" crossorigin="anonymous"></script> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
</head>
<body>
     <!-- navbar 1 -->
     <div id="outer">
        <!-- logo section of navbar -->
        <div class="logo">
            <a href="#"><img class="logosize" src="/Untitled design (1).png" alt="">
            </a> 
        </div>
        <!-- serch section of navbar -->
        <div class="serch">
            <div class="serch1">
                <input type="text" name="" class="serch1inner" placeholder="Search...everything you find ships for free">
            </div>
            <div class="serch2">
                <button class="serch2inner"><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
        </div>
        <!-- account section of navbar -->
        <div class="account">
            <div class="accountinner">
                <a href="#" class="accountinnerancer"><i class="fa-regular fa-user"></i></a><br>
                    <a href="#" class="accountinnerancer">Account</a>
            </div>
            <div class="accountinner">
                <a href="#" class="accountinnerancer"><i class="fa-regular fa-heart"></i></a><br>
                    <a href="#" class="accountinnerancer">Lists</a>
            </div>
            <div class="accountinner">
                <a href="#" class="accountinnerancer"><i class="fa-solid fa-cart-shopping"></i></a><br>
                    <a href="#" class="accountinnerancer">Cart</a>
            </div>
        </div>
    </div>
    <!-- navabar 2 -->
    <div class="navbar">
        <!-- section 1 /div1 -->
        <div class="navbar1">
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Furniture</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Rugs</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Decor</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Bedding</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Home</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Kitchen</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Outdoor</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Lihting</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Kids & Baby</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">Gifts</a></div>
            <div class="navbar1inner"><a href="#" class="navbar1ancor">More</a></div>
        </div>
        <hr>
        <!-- section2 or div2 -->
        <div class="navbar2">
            <div class="navbar2inner"><a href="#" class="navbar2ancor">Holiday</a></div>
            <div class="navbar2inner"><a href="#" class="navbar2ancor2">Sales & Deals</a></div>
        </div>
    </div>
    <!-- shoping cart -->
    <div class="shopheading">
        <h1>Shopping Cart</h1>
    </div>
    <!-- cartpart -->
    <div class="cart">
        <div id="cart-container"></div>
        <div id="cartpriceshow">
            <div id="promocode"><a href="#"><h3>+  Add a Promo Code
            </h3></a></div>
            <div id="totalprice">
                <h4 id="cartcount"> (<span id="cart-total">0</span>) items</h4>
                <h4 id="cartcount">promo code :$ <span id=fav-total>0</span> </h4>
                <h4 id="cartcount">sub total :$ <span id="sub-total">0</span> </h4>
                <hr>
                <h3 id="cartcount">Your total :$ <span id="your-total">0</span> </h3>
                <button id="totalpricebutton"><a href="#"><i class="fa-solid fa-lock"></i>Check Out</a></button>
            </div>   
        </div>
    </div>
    <!-- footer 1 -->
    <div class="footer1">
        <div>
            <div>
                <h4>MY ACCOUNT</h4>
            </div>
            <div>
                <a href="#">Orders & Returns</a>
            </div>
            <div>
                <a href="#">Email Preferences</a>
            </div>
            <div>
                <a href="#">Account Settings</a>
            </div>
        </div>
        <div>
            <div>
                <h4>LET US HELP</h4>
            </div>
            <div>
                <a href="#">Contact customer Care</a>
            </div>
            <div>
                <a href="#">Shipping Information</a>
            </div>
            <div>
                <a href="#">Return Policy</a>
            </div>
            <div>
                <a href="#">International Help</a>
            </div>
            <div>
                <a href="#">Accessibility</a>
            </div>
        </div>
        <div>
            <div>
                <h4>COMPANY INFORMATION</h4>
            </div>
            <div>
                <a href="#">About Overstock</a>
            </div>
            <div>
                <a href="#">Contact Us</a>
            </div>
            <div>
                <a href="#">Careers</a>
            </div>
            <div>
                <a href="#">Investor Relations</a>
            </div>
            <div>
                <a href="#">Sell Your Products</a>
            </div>
            <div>
                <a href="#">Supply Chain Transparency</a>
            </div>
        </div>
        <div>
            <div>
                <h4>MORE WAYS TO SHOP</h4>
            </div>
            <div>
                <a href="#">tips & Ideas</a>
            </div>
            <div>
                <a href="#">Deals</a>
            </div>
            <div>
                <a href="#">Clearance</a>
            </div>
            <div>
                <a href="#">New Arrivals</a>
            </div>
        </div>
    </div>
    <!-- footer2 -->
    <div id="fot2">
        
            <div><p>© Copyright 2022, Overstock.com®, Inc.</p>
            <p>799 Coliseum Way Midvale, UT 84047 | 1-800-843-2446</p></div>
            <div id="fot2ancor">
                <a class="fot2ancorinner" href="#">Privacy Policy</a>
                <a class="fot2ancorinner"href="#">Terms & Condition</a>
                <a class="fot2ancorinner"href="#">*Promotion Terms</a>
                <a class="fot2ancorinner"href="#">Ships to: <img src="https://ak1.ostkcdn.com/img/mxc/intFlag_IN.gifs" alt=""></a>
            </div>
       
    </div>
</body>
<script>
    let container=document.getElementById("cart-container")
    let total=document.getElementById("cart-total")
    let totalPrice=document.getElementById("sub-total")
    let yourtotal=document.getElementById("your-total")

    let addtocartData=JSON.parse(localStorage.getItem("addtocart"))
    if(addtocartData==null) addtocartData=[]

    displayProduct(addtocartData)

    function displayProduct(data){
      container.innerHTML=null
      data.forEach((element,index) => {
        let cards=document.createElement("div")
        cards.setAttribute("class","productinner")
        
            let image=document.createElement("img")
            image.setAttribute("src",element.img)
            image.setAttribute("class","productimage")

            let name=document.createElement("h2")
            name.innerText="Name-"+element.name

            let price=document.createElement("h3")
            price.innerText="price-$-"+element.price

            let material=document.createElement("h3")
            material.innerText="Material-"+element.material

            let category=document.createElement("h3")
            category.innerText="Category-"+element.category

            let increment=document.createElement("button")
            increment.innerText="+"
            increment.setAttribute("class","quantity")
            increment.addEventListener("click",()=>{
                quantity.innerText++
                element.quantity++
                show()
                totalpriceshow()
                
            })

            let quantity=document.createElement("span")
            quantity.innerText=element.quantity

            let decrement=document.createElement("button")
            decrement.innerText="-"
            decrement.setAttribute("class","quantity")
            decrement.addEventListener("click",()=>{
                if(quantity.innerText==1){
                    return false
                }else{
                    element.quantity--
                    quantity.innerText--
                    show()
                    totalpriceshow()
                    
                }

            })

            let Delete=document.createElement("button")
            Delete.innerText="Delete"
            Delete.addEventListener("click",()=>{
            addtocartData.splice(index,1)
            localStorage.setItem("addtocart",JSON.stringify(addtocartData))
            displayProduct(data)
            show()
            totalpriceshow()
            })

            let saveforlater=document.createElement("button")
            saveforlater.innerText="Save For Later"
            saveforlater.addEventListener("click",()=>{
                    let saveforlaterData=JSON.parse(localStorage.getItem("saveforlater"))

                    if(saveforlaterData==null) saveforlaterData=[]

                    let isAlreadyInFav=false
                    for(let i=0;i<saveforlaterData.length;i++){
                        if(saveforlaterData[i].id===element.id){
                        isAlreadyInFav=true
                        break
                        }
                    }
                    if(isAlreadyInFav===true){
                        alert("Product Already saveforlater")
                    }else{
                        saveforlaterData.push({...element})
                        localStorage.setItem("saveforlater",JSON.stringify(saveforlaterData))
                        // alert("Product Added To saveforlater")
                    }
                    })

        cards.append(image,name,price,material,category,increment,quantity,decrement,Delete,saveforlater)
        container.append(cards)
      });
    }
    function show(){
      let bag=0;
      addtocartData.forEach((element)=>{
        bag=(addtocartData.length)+(element.quantity)
      })
      total.innerText=bag
      
    }
    function totalpriceshow(){
      let bag=0;
      addtocartData.forEach((element)=>{
        bag+=(element.quantity)*(+element.price)
      })
      totalPrice.innerText=Math.floor(bag)
      yourtotal.innerText=Math.floor(bag)
    }
    totalpriceshow()
    show()
</script>
</html>